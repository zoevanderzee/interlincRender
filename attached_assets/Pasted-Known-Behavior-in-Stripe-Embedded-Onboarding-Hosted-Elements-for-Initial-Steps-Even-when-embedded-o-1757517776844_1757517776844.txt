Known Behavior in Stripe Embedded Onboarding
Hosted Elements for Initial Steps: Even when embedded onboarding is enabled, Stripe sometimes redirects the initial step (such as email and phone collection) to a hosted onboarding page before returning to the embedded form for the rest of the flow. This is a documented behavior and is not unique to your setupâ€”many developers report that the "Let's get started" part may always open a Stripe-hosted page, before onboarding continues inside your app.

Embedded Onboarding Limitations: Embedded onboarding is only supported in web browsers, not in embedded web views (such as inside native mobile apps or certain iframes). If your Replit app is running in anything other than a standard browser window, Stripe will automatically redirect to the hosted version.

Integration Approach: For embedded onboarding, you must create an "Account Session" on your backend with the appropriate API call, explicitly enabling the account_onboarding component (and optional features, like disabling Stripe user authentication when supported). If this step is missing or the session is misconfigured, the component will not load as expected.

Key/Secret or Container Issues: If the embedding fails entirely, check that both the Stripe publishable key and client secret are valid and are passed correctly, and that the container element for rendering the embedded component exists and is mounted in the DOM before loading the component.

Steps to Troubleshoot
Check for Browser Support: Ensure onboarding is happening in a supported browser, not via a web view or unsupported environment.

Review Account Session Setup: Confirm your backend creates an Account Session with account_onboarding explicitly enabled in the components list.

Correct Keys and Client Secret: Be certain the publishable key and client secret passed from your backend are current and for the right environment (test vs. live).

Confirm Container Mounting: The HTML container ID you use to render the onboarding component (like embedded-onboarding-container) must exist and be mounted in the DOM before initializing the Stripe Connect embedded component.

Expect Hosted Step for Email: Understand that the initial hosted flow (for email collection) is currently by design and expected.